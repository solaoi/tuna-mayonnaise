(this["webpackJsonptuna-mayonnaise-ui"]=this["webpackJsonptuna-mayonnaise-ui"]||[]).push([[0],{123:function(t,e){},167:function(t,e){},205:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=205},206:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=206},406:function(t,e,n){},407:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n(29),r=n.n(o),c=n(3),i=n.n(c),u=n(10),s=n(80),l=n(2),d=n(8),p=n(142),h=n(143),j=n(152),b=n(145),v=n.n(b),f=n(55),O=n(146),m=n(147),g=n.n(m),k=n(148),y=n(13),x=n(4),w=n(5),C=n(7),S=n(6),N=n(23),E=n.n(N),D=n(17),F=(n(160),n(41),n(149)),T=n(409),L=n(0),R=function(t){var e=t.value,n=t.onChange,o=Object(a.useState)(e),r=Object(u.a)(o,2),c=r[0],i=r[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],h=Object(a.useState)(null),j=Object(u.a)(h,2),b=j[0],v=j[1];return Object(T.a)((function(){null!==b&&(y.b.warn(b),v(null))}),1e4),Object(L.jsx)(E.a,{value:c,onValueChange:function(t){try{F.parse(t),p(!1),v(null)}catch(e){v(e.message),p(!0)}i(t),n(t)},highlight:function(t){return Object(D.highlight)(t,D.languages.json)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,background:d?"rgba(255, 0, 80, 0.7)":"#FFF",maxWidth:"300px"}})},V=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var i=o.data[a]||'{"name": "value"}';return o.data[a]=i,o.data.output=i,r.props={readonly:c,value:i,onChange:function(t){r.setValue(t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);V.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsx)("div",{ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},children:Object(L.jsx)(R,{value:e,onChange:function(t){return n(t)}})})};var J=V,A=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"JSON")).path=["New"],a.socket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Output("json","JSON",this.socket);return t.addControl(new J(this.editor,"json",t)).addOutput(e)}},{key:"worker",value:function(t,e,n){n.json=t.data.json}}]),n}(l.c.Component),P=(n(162),n(150)),I=function(t){var e=t.value,n=t.onChange,o=Object(a.useState)(e),r=Object(u.a)(o,2),c=r[0],i=r[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],h=Object(a.useState)(null),j=Object(u.a)(h,2),b=j[0],v=j[1];return Object(T.a)((function(){null!==b&&(y.b.warn(b),v(null))}),1e4),Object(L.jsx)(E.a,{value:c,onValueChange:function(t){try{P.parse(t),p(!1),v(null)}catch(e){v(e.message),p(!0)}i(t),n(t)},highlight:function(t){return Object(D.highlight)(t,D.languages.sql)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,background:d?"rgba(255, 0, 80, 0.7)":"#FFF",maxWidth:"300px"}})},M=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var i=o.data[a]||"";return o.data[a]=i,o.data.output=i,r.props={readonly:c,value:i,onChange:function(t){r.setValue(t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);M.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsx)("div",{ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},children:Object(L.jsx)(I,{value:e,onChange:function(t){return n(t)}})})};var q=M,_=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"SQL")).path=["New"],a.socket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Output("sql","SQL",this.socket);return t.addControl(new q(this.editor,"sql",t)).addOutput(e)}},{key:"worker",value:function(t,e,n){n.sql=t.data.sql}}]),n}(l.c.Component),B=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(){return Object(x.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var t=this.props,e=t.bindSocket,n=t.bindControl,a=this.state,o=a.outputs,r=a.controls,c=a.inputs,i=a.selected;return Object(L.jsxs)("div",{className:"node ".concat(i),style:{background:"grey"},children:[Object(L.jsx)("div",{className:"title",children:"Template"}),o.map((function(t){return Object(L.jsxs)("div",{className:"output",children:[Object(L.jsx)("div",{className:"output-title",children:t.name}),Object(L.jsx)(d.c,{type:"output",socket:t.socket,io:t,innerRef:e})]},t.key)})),r.map((function(t){return Object(L.jsx)(d.a,{className:"control",control:t,innerRef:n},t.key)})),c.map((function(t){return Object(L.jsxs)("div",{className:"input",children:[Object(L.jsx)(d.c,{type:"input",socket:t.socket,io:t,innerRef:e}),Object(L.jsx)("div",{className:"input-title",children:t.name})]},t.key)}))]})}}]),n}(d.b),H=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.keys=[],r.component=n.component,r.props={readonly:c,value:"",onChange:function(){}},o.data.output="",r}return Object(w.a)(n,[{key:"setValue",value:function(t,e,n){for(var a in this.props.value=e,this.putData("output",e),this.putData("contentType",n),t)t[a][0]&&this.putData(a,t[a][0]);this.update()}}]),n}(l.c.Control);H.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("label",{style:{color:"white",display:"block",textAlign:"left"},children:"Preview"}),Object(L.jsx)("textarea",{value:e,rows:10,ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},onChange:function(t){return n(String(t.target.value))},disabled:!0})]})};var U=H,W=n(53),z=n(54),K=n.n(z),Y=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r;return Object(x.a)(this,n),(r=e.call(this,"Template")).path=["New"],r.data.component=B,r.dataSocket=t,r.templateSocket=a,r.htmlSocket=o,r}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Input("template","TemplateEngine",this.templateSocket),n=new l.c.Input("json","Data (JSON)",this.dataSocket),a=new l.c.Output("html","HTML",this.htmlSocket);return n.addControl(new J(this.editor,"json",t)),t.addInput(e).addInput(n).addControl(new U(this.editor,"template",t,!0)).addOutput(a)}},{key:"worker",value:function(t,e,n){var a=e.json.length?e.json[0]:t.data.json,o=t.inputs.template.connections.filter((function(t){return"hbs"===(null===t||void 0===t?void 0:t.output)||"pug"===(null===t||void 0===t?void 0:t.output)})),r=function(){var n;if(0===o.length)return"No TemplateEngine detected...";var r=o[0].output,c=(null===(n=e.template)||void 0===n?void 0:n.length)?e.template[0]:t.data.json;return"pug"===r?W.render(c,JSON.parse(a)):"hbs"===r?K.a.compile(c)(JSON.parse(a)):void 0}();this.editor.nodes.find((function(e){return e.id===t.id})).controls.get("template").setValue(e,r,"text/html; charset=utf-8"),n.html=r}}]),n}(l.c.Component),Q=(n(132),n(133),n(386),function(t){var e=t.value,n=t.onChange,o=Object(a.useState)(e),r=Object(u.a)(o,2),c=r[0],i=r[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],h=Object(a.useState)(null),j=Object(u.a)(h,2),b=j[0],v=j[1];return Object(T.a)((function(){null!==b&&(y.b.warn(b),v(null))}),1e4),Object(L.jsx)("div",{className:"hasScrollbar",style:{overflowY:"auto",maxHeight:"500px"},children:Object(L.jsx)(E.a,{textareaClassName:"editorTextarea",preClassName:"line-numbers",value:c,onValueChange:function(t){try{K.a.precompile(t),p(!1),v(null)}catch(e){v(e.message),p(!0)}i(t),n(t)},highlight:function(t){return Object(D.highlight)(t,D.languages.handlebars).split("\n").map((function(t){return'<span class="container_editor_line_number">'.concat(t,"</span>")})).join("\n")},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,background:d?"rgba(255, 0, 80, 0.7)":"#FFF",maxWidth:"800px"}})})}),X=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var i=o.data[a]||"<div>{{name}}</div>";return o.data[a]=i,o.data.output=i,r.props={readonly:c,value:i,onChange:function(t){r.setValue(t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);X.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsx)("div",{ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},children:Object(L.jsx)(Q,{value:e,onChange:function(t){return n(t)}})})};var Z=X,G=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"Handlebars")).path=["New"],a.socket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Output("hbs","Handlebars",this.socket);return t.addControl(new Z(this.editor,"hbs",t)).addOutput(e)}},{key:"worker",value:function(t,e,n){n.hbs=t.data.hbs}}]),n}(l.c.Component),$=(n(387),function(t){var e=t.value,n=t.onChange,o=Object(a.useState)(e),r=Object(u.a)(o,2),c=r[0],i=r[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],h=Object(a.useState)(null),j=Object(u.a)(h,2),b=j[0],v=j[1];return Object(T.a)((function(){null!==b&&(y.b.warn(b),v(null))}),1e4),Object(L.jsx)("div",{className:"hasScrollbar",style:{overflowY:"auto",maxHeight:"500px"},children:Object(L.jsx)(E.a,{textareaClassName:"editorTextarea",preClassName:"line-numbers",value:c,onValueChange:function(t){try{W.compile(t),p(!1),v(null)}catch(e){v(e.message),p(!0)}i(t),n(t)},highlight:function(t){return Object(D.highlight)(t,D.languages.pug).split("\n").map((function(t){return'<span class="container_editor_line_number">'.concat(t,"</span>")})).join("\n")},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,background:d?"rgba(255, 0, 80, 0.7)":"#FFF",maxWidth:"800px"}})})}),tt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var i=o.data[a]||"div #{name}";return o.data[a]=i,o.data.output=i,r.props={readonly:c,value:i,onChange:function(t){r.setValue(t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);tt.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsx)("div",{ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},children:Object(L.jsx)($,{value:e,onChange:function(t){return n(t)}})})};var et=tt,nt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"Pug")).path=["New"],a.socket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Output("pug","Pug",this.socket);return t.addControl(new et(this.editor,"pug",t)).addOutput(e)}},{key:"worker",value:function(t,e,n){n.pug=t.data.pug}}]),n}(l.c.Component),at=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(){return Object(x.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var t=this.props,e=t.bindSocket,n=t.bindControl,a=this.state,o=a.outputs,r=a.controls,c=a.inputs,i=a.selected;return Object(L.jsxs)("div",{className:"node ".concat(i),style:{background:"grey"},children:[Object(L.jsx)("div",{className:"title",children:"Endpoint"}),o.map((function(t){return Object(L.jsxs)("div",{className:"output",children:[Object(L.jsx)("div",{className:"output-title",children:t.name}),Object(L.jsx)(d.c,{type:"output",socket:t.socket,io:t,innerRef:e})]},t.key)})),r.map((function(t){return Object(L.jsx)(d.a,{className:"control",control:t,innerRef:n},t.key)})),c.map((function(t){return Object(L.jsxs)("div",{className:"input",children:[Object(L.jsx)(d.c,{type:"input",socket:t.socket,io:t,innerRef:e}),Object(L.jsx)("div",{className:"input-title",children:t.name})]},t.key)}))]})}}]),n}(d.b),ot=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.component=n.component,r.props={readonly:c,value:"",onChange:function(){}},o.data.output="",r}return Object(w.a)(n,[{key:"setValue",value:function(t,e,n,a,o){for(var r in this.props.value=e,this.putData("enabledFlag",a),this.putData("output",e),this.putData("contentType",n),this.putData("path",o),t)t[r][0]&&this.putData(r,t[r][0]);this.update()}}]),n}(l.c.Control);ot.component=function(t){var e=t.value,n=t.onChange;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("label",{style:{color:"white",display:"block",textAlign:"left"},children:"Preview"}),Object(L.jsx)("textarea",{value:e,rows:10,ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},onChange:function(t){return n(String(t.target.value))},disabled:!0})]})};var rt=ot,ct=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var u=o.data[a]||!1;return o.data[a]=u,o.data.output=u,r.props={readonly:c,checked:u,title:i,onChange:function(t){r.setValue(!!t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.checked=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);ct.component=function(t){var e=t.checked,n=t.onChange,a=t.title;return Object(L.jsxs)(L.Fragment,{children:[a&&Object(L.jsx)("label",{style:{color:"white",display:"block",textAlign:"left"},children:a}),Object(L.jsx)("input",{type:"checkbox",checked:e,ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},onChange:function(t){return n(+t.target.checked)}})]})};var it=ct,ut=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a,o){var r,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(x.a)(this,n),(r=e.call(this,a)).emitter=t,r.key=a,r.component=n.component;var s=o.data[a]||"";return o.data[a]=s,o.data.output=s,r.props={readonly:c,value:s,title:i,placeHolder:u,onChange:function(t){r.setValue(t),r.emitter.trigger("process")}},r}return Object(w.a)(n,[{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.putData("output",t),this.update()}}]),n}(l.c.Control);ut.component=function(t){var e=t.value,n=t.onChange,a=t.title,o=t.placeHolder;return Object(L.jsxs)(L.Fragment,{children:[a&&Object(L.jsx)("label",{style:{color:"white",display:"block",textAlign:"left"},children:a}),Object(L.jsx)("input",{type:"text",value:e,placeholder:o,ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},onChange:function(t){return n(String(t.target.value))}})]})};var st=ut,lt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"Endpoint")).path=["New"],a.data.component=at,a.stringSocket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e;t.data.enabledFlag=null===(e=t.data.enabledFlag)||void 0===e||e;var n=new l.c.Input("content","Content (JSON/HTML)",this.stringSocket);return n.addControl(new st(this.editor,"content",t)),t.addInput(n).addControl(new rt(this.editor,"endpoint",t,!0)).addControl(new it(this.editor,"enabledFlag",t,!1,"Enabled")).addControl(new st(this.editor,"path",t,!1,"Path","/foo"))}},{key:"worker",value:function(t,e,n){var a=e.content.length?e.content[0]:"Rendering...",o=function(t){if(t)return"html"===t.output?"text/html; charset=utf-8":"json"===t.output?"application/json; charset=utf-8":"text/plain; charset=utf-8"}(t.inputs.content.connections[0]),r=t.data.enabledFlag,c=t.data.path;this.editor.nodes.find((function(e){return e.id===t.id})).controls.get("endpoint").setValue(e,a,o,r,c)}}]),n}(l.c.Component),dt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(){return Object(x.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var t=this.props,e=t.node,n=t.bindSocket,a=t.bindControl,o=this.state,r=o.outputs,c=o.controls,i=o.inputs,u=o.selected;return Object(L.jsxs)("div",{className:"node ".concat(u),style:{background:"grey"},children:[Object(L.jsx)("div",{className:"title",children:e.name}),r.map((function(t){return Object(L.jsxs)("div",{className:"output",children:[Object(L.jsx)("div",{className:"output-title",children:t.name}),Object(L.jsx)(d.c,{type:"output",socket:t.socket,io:t,innerRef:n})]},t.key)})),c.map((function(t){return Object(L.jsx)(d.a,{className:"control",control:t,innerRef:a},t.key)})),i.map((function(t){return Object(L.jsxs)("div",{className:"input",children:[Object(L.jsx)(d.c,{type:"input",socket:t.socket,io:t,innerRef:n}),!t.showControl()&&Object(L.jsx)("div",{className:"input-title",children:t.name}),t.showControl()&&Object(L.jsx)(d.a,{className:"input-control",control:t.control,innerRef:a})]},t.key)}))]})}}]),n}(d.b),pt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(x.a)(this,n),(a=e.call(this,"API")).path=["New"],a.data.component=dt,a.jsonSocket=t,a}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Input("json","Dummy Output (JSON)",this.jsonSocket),n=new l.c.Output("json","JSON",this.jsonSocket);return t.addInput(e).addControl(new st(this.editor,"url",t,!1,"URL","https://example.com/bar")).addOutput(n)}},{key:"worker",value:function(t,e,n){n.json=e.json.length?e.json[0]:t.data.json,n.url=t.data.url}}]),n}(l.c.Component),ht=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(){return Object(x.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var t=this.props,e=t.node,n=t.bindSocket,a=t.bindControl,o=this.state,r=o.outputs,c=o.controls,i=o.inputs,u=o.selected;return Object(L.jsxs)("div",{className:"node ".concat(u),style:{background:"grey"},children:[Object(L.jsx)("div",{className:"title",children:e.name}),r.map((function(t){return Object(L.jsxs)("div",{className:"output",children:[Object(L.jsx)("div",{className:"output-title",children:t.name}),Object(L.jsx)(d.c,{type:"output",socket:t.socket,io:t,innerRef:n})]},t.key)})),c.map((function(t){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(d.a,{className:"control",control:t,innerRef:a},t.key),"db"===t.key&&Object(L.jsxs)("div",{class:"control",title:"pass",children:[Object(L.jsx)("label",{style:{color:"white",display:"block",textAlign:"left"},children:"DB_PASS"}),Object(L.jsx)("textarea",{rows:"3",placeholder:"set ".concat(""===t.props.value?"DB":t.props.value.toUpperCase(),"_PASS when tuna api starting"),value:"",disabled:!0})]})]})})),i.map((function(t){return Object(L.jsxs)("div",{className:"input",children:[Object(L.jsx)(d.c,{type:"input",socket:t.socket,io:t,innerRef:n}),!t.showControl()&&Object(L.jsx)("div",{className:"input-title",children:t.name}),t.showControl()&&Object(L.jsx)(d.a,{className:"input-control",control:t.control,innerRef:a})]},t.key)}))]})}}]),n}(d.b),jt=function(t){Object(C.a)(n,t);var e=Object(S.a)(n);function n(t,a){var o;return Object(x.a)(this,n),(o=e.call(this,"DB")).path=["New"],o.data.component=ht,o.jsonSocket=t,o.sqlSocket=a,o}return Object(w.a)(n,[{key:"builder",value:function(t){var e=new l.c.Input("json","Dummy Output (JSON)",this.jsonSocket),n=new l.c.Output("json","JSON",this.jsonSocket),a=new l.c.Input("sql","SQL",this.sqlSocket);return t.addInput(a).addInput(e).addControl(new st(this.editor,"host",t,!1,"HOST","127.0.0.1")).addControl(new st(this.editor,"port",t,!1,"PORT","3306")).addControl(new st(this.editor,"user",t,!1,"USER","guest")).addControl(new st(this.editor,"db",t,!1,"DB_NAME","foo")).addOutput(n)}},{key:"worker",value:function(t,e,n){n.json=e.json.length?e.json[0]:t.data.json,n.sql=e.sql.length?e.sql[0]:t.data.sql,n.host=t.data.host,n.port=t.data.port,n.user=t.data.user,n.db=t.data.db}}]),n}(l.c.Component),bt=n(81),vt=n.n(bt),ft=n(151);function Ot(){return(Ot=Object(s.a)(i.a.mark((function t(e){var n,a,o,r,c,b,m,x,w,C,S,N,E,D,F;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new l.c.Socket("String value"),(a=new l.c.Socket("Json value")).combineWith(n),(o=new l.c.Socket("Template value")).combineWith(n),(r=new l.c.Socket("Handlebars value")).combineWith(o),(c=new l.c.Socket("Pug value")).combineWith(o),(b=new l.c.Socket("HTML value")).combineWith(n),m=new l.c.Socket("SQL value"),x=[new lt(n),new A(a),new Y(a,o,b),new G(r),new nt(c),new _(m),new pt(a),new jt(a,m)],w=window.navigator.userAgent.toLowerCase(),C=-1!==w.indexOf("mac os x"),S=function(){var t=document.activeElement.nodeName;return"TEXTAREA"===t||"INPUT"===t},(N=new l.c.NodeEditor("tuna-mayonnaise@0.0.1",e)).use(p.a),N.use(d.d),N.use(j.a,{searchBar:!1,delay:100,allocate:function(t){return t.path},rename:function(t){return t.name},items:{Arrange:function(){N.nodes.forEach((function(t){N.trigger("arrange",t)}))},Undo:function(){N.trigger("undo")},Redo:function(){N.trigger("redo")},Save:function(){vt.a.post("/regist",N.toJSON()).then((function(){return y.b.success("SAVED :)")})).catch((function(){return y.b.error("NOT CONNECTED :(")}))},Download:function(){var t=new Blob([JSON.stringify(N.toJSON())],{type:"application/json;charset=utf-8"});Object(ft.saveAs)(t,"tuna-mayonnaise.json")},Debug:function(){console.log(JSON.stringify(N.toJSON()))}}}),N.on("zoom",(function(t){var e=t.source;return"dblclick"!==e&&"wheel"===e&&!S()})),N.use(k.a,{keyboard:!1}),N.on("keydown",(function(t){if(!S()){switch(t.code){case"Delete":case"Backspace":return N.selected.each((function(t){N.removeNode(t)})),void N.selected.clear();case"Space":var e=N.view.container.getBoundingClientRect(),n=new MouseEvent("contextmenu",{clientX:e.left+e.width/2,clientY:e.top+e.height/2});return void N.trigger("contextmenu",{e:n,view:N.view})}if(t.ctrlKey||C&&t.metaKey)switch(t.code){case"KeyY":return void N.trigger("redo");case"KeyZ":return void(t.shiftKey?N.trigger("redo"):N.trigger("undo"))}}})),N.use(v.a),N.use(f.a,{type:f.a.DEFAULT,transformer:function(){return function(t){var e=Object(u.a)(t,4);return[[e[0],e[1]],[e[2],e[3]]]}},curve:f.a.curveBundle,options:{vertical:!1,curvature:.4},arrow:{color:"steelblue",marker:"M-5,-10 L-5,10 L20,0 z"}}),N.use(O.a),N.use(g.a,{margin:{x:200,y:50},depth:0}),E=new l.c.Engine("tuna-mayonnaise@0.0.1"),x.forEach((function(t){N.register(t),E.register(t)})),t.next=31,vt.a.get("/tuna-configuration").then((function(t){return t.data})).catch((function(){return document.getElementsByClassName("rightClick")[0].style.display="block",null}));case 31:if(null===(D=t.sent)){t.next=38;break}return t.next=35,N.fromJSON(D);case 35:y.b.success("RESUMED :)"),t.next=43;break;case 38:return t.next=40,x[0].createNode();case 40:(F=t.sent).position=[1e3,200],N.addNode(F);case 43:N.on("showcontextmenu",(function(t){t.e,t.node;return document.getElementsByClassName("rightClick")[0].style.display="none",!0})),N.on("process nodecreated noderemoved connectioncreated connectionremoved",Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelectorAll(".editorTextarea").forEach((function(t){t.addEventListener("wheel",(function(e){S()&&(t.parentElement.parentElement.scrollTop+=e.deltaY)}))})),t.next=3,E.abort();case 3:return t.next=5,E.process(N.toJSON());case 5:case"end":return t.stop()}}),t)})))),N.view.resize(),N.trigger("process"),h.a.zoomAt(N,N.nodes);case 48:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(405),n(406);function mt(){return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(y.a,{}),Object(L.jsx)("img",{className:"rightClick",src:"right-click.svg",width:"200",height:"200",alt:"RightClick for Menu",style:{display:"none",position:"absolute",top:"25%",left:"25%"}}),Object(L.jsx)("div",{style:{width:"100vh",height:"100vh"},ref:function(t){return t&&function(t){return Ot.apply(this,arguments)}(t)}})]})}var gt=document.getElementById("root");r.a.render(Object(L.jsx)(mt,{}),gt)}},[[407,1,2]]]);